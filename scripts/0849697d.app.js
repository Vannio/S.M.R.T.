!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d="https://api.tfl.gov.uk/StopPoint/490003306W/Arrivals?app_id=683cc8b5&app_key=c8607c3fb964272ff12d0bd730bdeb86",e=$("#js-bus-updates");b.exports={ajaxCall:function(){"use strict";$.ajax({url:d,success:function(a){this.printStatus(a)},cache:!1,printStatus:function(a){a.sort(function(a,b){return parseFloat(a.timeToStation)-parseFloat(b.timeToStation)}),e.empty();for(var b=0;b<a.length;b++)if(3>b){var c=Math.floor((new Date(a[b].expectedArrival)-new Date)/1e3/60),d=0>=c?"&nbsp;<strong>due</strong>":1===c?"&nbsp;in <strong>"+c+" minute</strong>":"&nbsp;in <strong>"+c+" minutes</strong>";e.append('<li class="flex-container"><span>The&nbsp;</span><span class="bus-number">'+a[b].lineName+' </span><span class="bus-destination">&nbsp;to '+a[b].destinationName.split(",")[0]+' is </span><span class="bus-time">'+d+"</span></li>")}}})},init:function(){"use strict";this.ajaxCall(),setInterval(this.ajaxCall,29e3)}}},{}],2:[function(a,b,c){"use strict";function d(a){if(a>3&&21>a)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],g=$("#js-current-date"),h=$("#js-current-time");b.exports={printDate:function(a){var b=(a.getFullYear(),a.getMonth()),c=a.getDay(),h=a.getDate();g.empty().append(e[c]+" "+h+"<sup>"+d(h)+"</sup> "+f[b])},printTime:function(a){var b=a.getHours()%12||12,c=("0"+a.getMinutes()).slice(-2),d=("0"+a.getSeconds()).slice(-2),e=a.getHours()>=12?"pm":"am";h.empty().append("<h1>"+b+':<span class="time-minutes">'+c+'</span><span class="time-seconds">:'+d+"</span>"+e+"</h1>")},init:function(){var a=this;a.printDate(new Date),a.printTime(new Date),setInterval(function(){a.printDate(new Date),a.printTime(new Date)},1e3)}}},{}],3:[function(a,b,c){"use strict";var d=a("./clock.js");d.init();var e=a("./weather.js");e.init();var f=a("./bus.js");f.init();var g=a("./tube.js");g.init(),document.getElementById("js-fullscreen").onclick=function(){document.body.webkitRequestFullscreen()}},{"./bus.js":1,"./clock.js":2,"./tube.js":4,"./weather.js":5}],4:[function(a,b,c){var d="https://api.tfl.gov.uk/line/mode/tube,overground,dlr,tflrail/status",e=$("#js-tube-updates"),f=["circle","hammersmith-city","northern","piccadilly","victoria"];b.exports={ajaxCall:function(){"use strict";$.ajax({url:d,success:function(a){this.printStatus(a)},cache:!1,printStatus:function(a){e.empty();for(var b=0;b<a.length;b++){var c=a[b].lineStatuses[0].statusSeverityDescription;f.indexOf(a[b].id)>-1&&e.append('<li class="flex-container"><span class="tube-status">'+c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()+' on the </span><span class="tube-title tube-'+a[b].id+'">'+a[b].name+" line</span></li>")}}})},init:function(){"use strict";this.ajaxCall(),setInterval(this.ajaxCall,3e5),$("body").on("click",".tube-status",function(){$(this).find(".dropdown").slideToggle()})}}},{}],5:[function(a,b,c){var d="http://datapoint.metoffice.gov.uk/public/data/val/wxfcs/all/json/352409?res=3hourly&key=b821346b-d530-4054-a2e6-2fee05048742",e=$("#js-forecast-updates"),f={NA:"Not available",0:"Clear night",1:"Sunny day",2:"Partly cloudy (N)",3:"Partly cloudy (D)",4:"Not used",5:"Mist",6:"Fog",7:"Cloudy",8:"Overcast",9:"Light rain shower (N)",10:"Light rain shower (D)",11:"Drizzle",12:"Light rain",13:"Heavy rain shower (N)",14:"Heavy rain shower (D)",15:"Heavy rain",16:"Sleet shower (N)",17:"Sleet shower (D)",18:"Sleet",19:"Hail shower (N)",20:"Hail shower (D)",21:"Hail",22:"Light snow shower (N)",23:"Light snow shower (D)",24:"Light snow",25:"Heavy snow shower (N)",26:"Heavy snow shower (D)",27:"Heavy snow",28:"Thunder shower (N)",29:"Thunder shower (D)",30:"Thunder"};b.exports={ajaxCall:function(){"use strict";$.ajax({url:d,success:function(a){this.printWeather(a.SiteRep)},printWeather:function(a){var b=a.Wx.Param,c=a.DV.Location.Period[0].Rep[1];e.empty(),e.append('<span class="weather-value">'+c[b[3].name]+"&deg;<sup>c</sup> "+f[c[b[8].name]]+"</span></li>")}})},init:function(){"use strict";this.ajaxCall(),setInterval(this.ajaxCall,3e5)}}},{}]},{},[3]);